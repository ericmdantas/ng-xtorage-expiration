!function(e){"use strict";e.module("emd.ng-xtorage-expiration",["emd.ng-xtorage"]).provider("$xtorageExpiration",function(){var e=this,r="$xpiration",o=6e4;e.storageExpiration=864e5,this.$get=["$window","$xtorage","$xpirationChecker","$interval",function(t,i,n,a){var c=e.storageExpiration,u=function(){var e=a(function(){i.getFromLocalStorage(r).filter(function(e){return n.timeToExpire(e)}).forEach(function(r){i.removeFromLocalStorage(r.key),i.removeFromSessionStorage(r.key),a.cancel(e)})},o)},g=function(e,o){var n=o||c,a={};a.key=e,a.expire=t.Date.now()+n,i.pushIntoLocalStorage(r,a),u()};return{registerExpiration:g}}]}).service("$xpirationChecker",["$window",function(e){var r=function(r){return e.Date.now()>=r.expire};this.timeToExpire=r}])}(angular);