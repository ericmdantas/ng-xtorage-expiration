!function(e){"use strict";e.module("emd.ng-xtorage-expiration",["emd.ng-xtorage"]).config(["$xtorageProvider",function(e){e.unique=!0}]).config(["$provide",function(e){e.decorator("$xtorage",["$delegate","$window","$interval","$xpirationChecker",function(e,o,r,n){var t="$xpiration",i=6e4,a=864e5,c=function(){r(function(){var o=e.getFromLocalStorage(t);o.filter(function(e){return n.timeToExpire(e)}).forEach(function(r){e.removeFromLocalStorage(r.key),e.removeFromSessionStorage(r.key),o.forEach(function(o,n){o&&o.key===r.key&&e.removeFromArrayLocalStorage(t,n)})})},i)},u=function(r,n){var i=n||a,u={};u.key=r,u.expire=o.Date.now()+i,e.pushIntoLocalStorage(t,u),c()};return e.expire=u,e}])}]).provider("$xpirationChecker",function(){this.storageExpiration=864e5,this.$get=["$window",function(e){var o=function(o){return e.Date.now()>=o.expire};return{timeToExpire:o}}]})}(angular);